create database restaurantdb;

create table person(
    person_id varchar(255) PRIMARY KEY NOT NULL,
    person_fname varchar(255),
    person_lname varchar(255)
);

create table restaurant(
    restaurant_id varchar(255) PRIMARY KEY NOT NULL,
    restaurant_name varchar(255),
    restaurant_type varchar(255),
    restaurant_costper2 float8,
    restaurant_address varchar(255),
    restaurant_phone varchar(255),
    restaurant_image bytea
);

create table visit(
    visit_id varchar(255) PRIMARY KEY NOT NULL,
    visit_date date,
    person_id varchar(255),
    restaurant_id varchar(255)
);

ALTER TABLE visit
    ADD CONSTRAINT fk_visit_person FOREIGN KEY (person_id) REFERENCES person (person_id) ON DELETE CASCADE;

ALTER TABLE visit
    ADD CONSTRAINT fk_visit_restaurant FOREIGN KEY (restaurant_id) REFERENCES restaurant (restaurant_id) ON DELETE CASCADE;